<div class="container">
  <ng-container *ngIf="season">
    <div class="sidebar" [ngClass]="{ hide: isSidebarHidden }">
      <div class="header">
        <UIButton
          [isPointed]="true"
          (click)="isSidebarHidden = !isSidebarHidden"
        >
          <div class="btn">
            <i class="las la-angle-left"></i>
            <div class="name">Hide</div>
          </div>
        </UIButton>
        <UIButton [isPointed]="true" (click)="goBack()">
          <div class="btn">
            <i class="las la-door-open"></i>
            <div class="name">Exit World</div>
          </div>
        </UIButton>
      </div>
      <div class="season">
        <div class="name">{{ season.name }}</div>
        <div class="episodes">
          <div
            class="episode"
            *ngFor="let episode of season.episodes; let i = index"
            [ngClass]="{ active: episode.id === currentEpisode.id }"
            [routerLink]="['/series', seriesId, seasonId, i]"
          >
            {{ i + 1 }}. {{ episode.name }}
          </div>
        </div>
      </div>
    </div>
    <main>
      <div
        class="player-overlay"
        (click)="isPaused ? play() : pause()"
        (mousemove)="showSeekbar()"
      >
        <div class="top" [ngClass]="{ show: isPaused }">
          <UIButton
            [isPointed]="true"
            (click)="isSidebarHidden = !isSidebarHidden"
          >
            <div class="btn">
              <i class="las la-bars"></i>
            </div>
          </UIButton>
          <UIButton
            [isPointed]="true"
            (click)="isSidebarHidden = !isSidebarHidden"
          >
            <div class="btn"><</div>
          </UIButton>
          <UIButton [isPointed]="true" (click)="preparePlayer()">
            <div class="btn">></div>
          </UIButton>
          <UIButton [isPointed]="true" (click)="play()">
            <div class="btn">Play</div>
          </UIButton>
          <UIButton [isPointed]="true" (click)="pause()">
            <div class="btn">Pause</div>
          </UIButton>
        </div>

        <div class="bottom">
          <div class="actions" [ngClass]="{ show: isHover || isPaused }">
            Seek
          </div>
          <div class="comments" [ngClass]="{ show: isPaused }">Comments</div>
        </div>
      </div>
      <div id="player"></div>
    </main>
  </ng-container>
</div>
